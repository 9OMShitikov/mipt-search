# Send, http!

Теперь, когда мы наладили связь между клиентом и сервером, нужно
научиться отправлять что-то осмысленное. Полноценный парсинг запроса
мы будем делать позже, поэтому на первое время нужно какой-то более простое
представление запроса, чем SQL. Первое время для поиска нам потребуются
запросы достаточно простого вида:
`SELECT * FROM <index_name> WHERE match("some query string")`. В этом задании
предлагается организовать отправку запроса через такое общение:
```
{
    "index": "some_index_name",
    "match": "some_query_string"
}
```
Обратите внимание, что пока оба эти поля являются обязательными и в случае
отсутствия хотя бы одного из них сервер должен возвращать соответствующую
информацию об ошибке.

Для начала создайте новую http-ручку `json_command`, которая будет принимать
запрос в виде json. 

Затем нужно дать возможность клиенту выбирать протокол общения с сервером.
Предлагается добавить в search-cli опцию `--proto`. По умолчанию как вы можете догадаться
этот параметр будет `sql`.

В скором времени мы уже будем исполнять запрос, поэтому в этом задании
также требуется на стороне сервера распарсить json в некоторое удобное представление.

Клиент остается вам для удобства и тестироваться не будет, мы проверим
только корректную работную сервера.
Если вы сделали все правильно, то должны проходить интеграционные тесты `TestJsonHTTP`.